<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>无标题文档</title>
<style type="text/css">
	body,ul,p,input{margin:0; padding:0; font: 16px/30px "微软雅黑";}
	input{border:none; height: 20px; margin-top:5px; outline: none;}
	.wrap{width: 500px; margin:50px auto; background: #ccc; padding: 10px 0;}
	.wrap2{margin-top: -50px;}
	li{list-style: none; height: 30px;}
	.wrap input{float:left; width:100px;}
	.wrap p{float:left; width:200px;}
	.wrap span{float:left; width:200px;}
</style>
<script type="text/javascript">
	 window.onload = function (){
	 	var oList = document.getElementById('list');
	 	var aLi = oList.getElementsByTagName('li');//li条目
	 	var aIuput = oList.getElementsByTagName('input');//li条目中的 选框
	 	var oAllChecked = document.getElementById('allChecked');
	 	var aAllBtn = oAllChecked.getElementsByTagName('input')[0];//全选框
	 	var n = 0;

	 	for (var i = 0; i < aLi.length; i++) {
	 		aLi[i].onOff = true;
	 		aIuput[i].index = i;
	 		if(i % 2 == 0){
	 			aLi[i].style.background = "#f6f7b2";
	 		}else{
	 			aLi[i].style.background = "#f4cca1";
	 		};
	 		//li条目鼠标 移入
	 		aLi[i].onmouseover = function (){
	 			for (var i = 0; i < aLi.length; i++) {
	 				this.style.background = "#f5b3b3";
	 				this.style.color = "#fff";
	 			}
	 		}
	 		//li条目鼠标 移出
	 		aLi[i].onmouseout = function (){
	 			for (var i = 0; i < aLi.length; i++){
	 				if(aIuput[i].checked == false){
				 		if(i % 2 == 0){
				 			aLi[i].style.background = "#f6f7b2";
				 		}else{
				 			aLi[i].style.background = "#f4cca1";
				 		};
				 		aLi[i].style.color = "#000";
	 				}else{
		 				aLi[i].style.background = "#f5b3b3";
		 				aLi[i].style.color = "#fff";	 					
	 				}
	 			}
	 		}
	 		//单个选框 的点击
	 		aIuput[i].onclick = function (){
	 			n = 0;	//点击开始 初始n的值
	 			for (var i = 0; i < aLi.length; i++) {
	 				this.style.background = "#f5b3b3";
	 				this.style.color = "#fff";
	 				if(aIuput[i].checked == true){
	 					n += 1;
	 				}
	 			};
	 			if (n == aLi.length) {
	 				aAllBtn.checked = true;
	 			} else {
	 				aAllBtn.checked = false;
	 			};
	 		}
	 	}
	 	//全选框的 点击事件
	 	aAllBtn.onclick = function (){
	 		for (var i = 0; i < aLi.length; i++) {
		 		if(aIuput[i].checked == false && this.checked == true){ //如果li条目下的选框是false未选中,变true
					aIuput[i].checked = true;
					aLi[i].style.background = "#f5b3b3";
					aLi[i].style.color = "#fff"
		 		}else{		//如果li条目下的选框是true选中,变false
		 			aIuput[i].checked = false;
		 			aLi[i].style.color = "#000"
			 		if(i % 2 == 0){
			 			aLi[i].style.background = "#f6f7b2";
			 		}else{
			 			aLi[i].style.background = "#f4cca1";
			 		};
		 		};
	 		};
	 	};
	 }
</script>
</head>
<body>
	<ul class="wrap" id="list">
		<li>
			<input type="checkbox" />
			<p>私奔</p>
			<span>梁博</span>
		</li>
		<li>
			<input type="checkbox" />
			<p>北京北京</p>
			<span>梁博,黄勇</span>
		</li>
		<li>
			<input type="checkbox" />
			<p>我爱你中国</p>
			<span>梁博</span>
		</li>
		<li>
			<input type="checkbox" />
			<p>北京北京</p>
			<span>梁博,黄勇</span>
		</li>
	</ul>
	<ul class="wrap wrap2" id="allChecked">
		<li>
			<input type="checkbox" />
			<p>全选</p>			
		</li>
	</ul>
</body>
</html>
